A method of real-time assessment of capacity of both anode and cathode in a metal-ion battery, said method comprising and calculating, in said computer, cathode capacity as the integral of said current signals from said first time to said second time, divided by the difference between said second and first cathode states of charge, wherein said first and second times are selected such that said battery current is 0 A for at least 1 minute, wherein between said first time and said second time, there exists an intermediate time such that said battery current is greater than 0 A, wherein said first and second anode open-circuit voltages are each estimated, in said computer, as anode voltage measured at said first and second times, respectively, and wherein said first and second cathode open-circuit voltages are each estimated, in said computer, as cathode voltage measured at said first and second times, respectively.
